<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="java.util.*, com.vo.RestaurantVO" %>      
<!DOCTYPE html>
<html>
  <head>
  	<script type="text/javascript" src="/js/jquery.min.js"></script>  
  	  <script async defer 
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-FKKja8sdfgMggjEvEa5agaP6D9wBd6s&callback=initMap">
  	  </script>     
  	<script>
  		function initMap(){
  			//alert("호출");
  		    var map = new google.maps.Map(document.getElementById('map'), {
                                          zoom: 14,
					                      center: new google.maps.LatLng(37.549012, 126.988546),
                                          mapTypeId: google.maps.MapTypeId.ROADMAP
			});
			var infowindow = new google.maps.InfoWindow();  			
	  		$.ajax({
	  			    method:'get'
	  		       ,url:'googleMap.do'       
	  		       ,success:function(data){
	  		    	var result = JSON.stringify(data);
	  		    	var jsonDoc = JSON.parse(data);
	  		    	//alert(jsonDoc);
	  		    	var marker, i;
	  		    	if(jsonDoc.length>0){
	  		    		for(var i=0;i<jsonDoc.length;i++){
	  		    			var myLatLng = {lat: 37.549012, lng: 126.988546};
	  		    			//alert(jsonDoc[i].lat+","+parseFloat(jsonDoc[i].lat));
	  		    	    	marker = new google.maps.Marker({
	  		    	        								id:i,
	  		    	        								map: map,
	  		    	        								//position: myLatLng,
	  		    	        								position: new google.maps.LatLng(37.549012, 126.988546),
	  		    	      	});
	  		    		}
	  		    	}
	  		    }/////////end of success
	  		});///////////end of ajax  		
  		}
  	</script>                                             
  </head>
<body>
  <div id="map" style="width: 800px; height: 600px;"></div>
  <script type="text/javascript">
  	$(document).ready(function(){

  	});///////////////end of ready
  </script>
</body>
</html>